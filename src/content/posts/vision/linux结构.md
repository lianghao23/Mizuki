---
title: 视觉组培训：三阶段-linux介绍
published: 2025-09-04
tags: [Markdown, Blogging]
category: 视觉组
draft: false
---


# linux系统文件结构
前置操作：安装ubuntu,最好是22.04版本
## 1. 根目录/

一个linux系统中仅有一个根目录，其向下延伸出多个搭载不同功能的目录。

## 2. 系统启动和运行必要目录

### （1）/boot

启动linux系统时必须用到的内核文件例如压缩后的内核镜像文件，开机时所需的系统索引等，你打不开ubuntu或者黑屏很大概率是这个目录出了问题。

### （2）/etc(Editable Text Configuration)

这是系统全局配置文件存放处，是Linux系统的大脑和神经中枢。系统管理员和用户在这里修改设置，以控制系统和软件的行为。因为是全局配置文件，所以你的任何更改都会对整个系统产生影响。他所控制的方面such as：

1. 核心系统配置文件：例如/etc/passwd（存放你的linux用户信息），/etc/hosts（存放静态的主机名到 IP 地址的映射表）等等。

2. 网络配置：例如/etc/netplan/（用于配置ubuntu的网络接口）等。

3. 系统服务与启动：例如/etc/systemd/system/（系统管理员或用户自定义的systemd单元文件存放位置，优先级最高，会覆盖 /usr/lib/systemd/system/中的同名文件。服务（.service）、挂载点（.mount）、套接字（.socket）、定时器（.timer）等配置都在这里），/etc/systemd/system.conf和/etc/systemd/user.conf（配置 systemd 系统管理器本身的全局选项，/etc/default/或/etc/sysconfig/（存放系统服务或应用程序的默认环境变量和启动参数）等。

4. 软件包管理：例如/etc/apt/（APT 包管理器的配置目录）等，我们后续配置docker时就会用到命令‘sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o \ /etc/apt/keyrings/docker.asc’，他的意思是为系统软件包管理器（APT）添加一个受信任的加密密钥，用于验证后续安装的Docker软件包的真实性和完整性。

5. 系统安全：/etc/ssh（OpenSSH服务器的配置目录）等。

### （3）/lib（Libraries）
用于存放Linux系统中存放核心共享库文件，相当于linux的工具箱，给系统提供解决问题的工具，其目录下的libc.so是c语言标准库，libm.so.6是数学运算库，在启动过程中/bin,/sbin下的基础指令（init等）都在这里面

### （4）/sys（system）
结构化的虚拟文件系统，他不是普通的磁盘目录，而是由内核动态生成并直接映射在内核中的设备，驱动和内核参数，也就是说你可以通过对本目录操作实现实时反映硬件内核的属性和状态（# 查看 CPU 当前频率：‘cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq‘），树形结构展示硬件设备，动态参数调整，驱动与设备绑定等。最常用的其实就是对外接设备进行读取和调整。

## 3. 命令集合
### （1）/bin (binary)
存放着系统启动和维护所必需的基础命令，是linux系统的手脚，为系统提供执行和运动能力，其与/sbin(super binary)、/usr/bin、/usr/sbin共同构成Linux命令的执行体系，但各自定位不同。其内部存放的典型命令就是我们所常用的ls,cp,mv,rm,cat,echo等等。

### （2）/sbin (super binary)
类似于bin，但其仅限于root用户，用于系统管理，修复等。

## 4. 设备相关
### （1）/dev（device）
存放由内核动态创建的设备文件，其充当的是系统和硬件设备通信的接口，如/dev/sda（第一块物理磁盘）/dev/sda1（sda的第一个分区）/dev/nvme0n1（NVMe固态硬盘），/dev/cdrom（光驱）等。dev和sys两个目录都可以对硬件进行操作和监听，但dev更多用于对目标的读写操作，sys更多用于对目标参数的监听。例如播放音频，备份磁盘，摄像头都主要是dev，而监控cpu温度，禁用触控板则是sys。

### （2）/media
其作用是为linux系统自动识别一些设备，例如u盘等，当他们连接到计算机后就挂载到了此目录下。

### （3）/mnt
系统提供的临时挂载点。

## 5. 临时文件
### （1）/run
其是一个临时文件系统（通常挂载为tmpfs），用于存储系统启动后运行期间需要的易变（volatile）运行时数据。你通常不需要手动修改里面的内容，但查看里面的文件（如 PID 文件）对于系统管理和故障排查很有用。

这么说或许有些晦涩，想象一台计算机，网络连接，数据库服务等需求是要计算机开机后才需要，此时run下面记录了这些进程的相关属性，而计算机断电后自然也就和这些服务断开连接，run目录下的数据也就可以丢掉，等待下一次开机连接再继续记录，所以他是一个临时文件系统，后续几个临时文件系统也和他是类似的思想。

### （2）/tmp
其和run目录类似，也是临时文件系统，但run目录下存放的是和系统运行强相关进程和属性文件，tmp目录下存放的是更多是用户在操作系统时留下的记录，例如浏览器下载的临时碎片文件，安装程序释放的临时安装包等。

## 6. 账户
### （1）/root
超级用户的家目录，里面存放用户的秘钥，配置文件等。
### （2）/home
家目录。
### （3）/usr（Unix System Resources “Unix系统资源”）
usr是Linux文件系统中极其重要且规模最大的目录之一，存放着系统核心功能、用户应用程序、只读共享数据等关键资源。可以把它看作系统的“软件仓库和知识库”。

其存放系统的应用程序和资源，如软件、工具、库、文档等，你用apt命令安装的软件，其核心的可执行文件、库文件、文档和资源，绝大多数都存放在/usr目录及其子目录下。

#### /usr/bin
所有用户可用的应用程序和命令（二进制可执行文件）。
例如ls,grep,python,firefox,vim(用户级命令)。
#### /usr/sbin
系统管理员专用的管理程序（二进制可执行文件）。
sshd,cron,useradd,ip(系统管理命令)。
#### /usr/lib
应用程序和系统服务依赖的共享库和内核模块。
libc.so.*(C库),python3.10/,nginx/modules/(软件专用库和模块)。
#### /usr/include
C/C++ 等语言的头文件 (Header Files)。
stdio.h,stdlib.h,python.h(开发编译时必需)。
#### /usr/share
1. /usr/share/man系统手册页。
2. /usr/share/doc软件包的详细文档。
3. /usr/share/icons系统/应用程序图标。
4. /usr/share/fonts系统字体。
5. /usr/share/zoneinfo时区数据库。
6. ......
#### /usr/src
内核源代码和部分软件的源码。
例如linux-headers-5.15.0-91/(内核头文件，驱动编译用)。
#### /usr/local
系统管理员编译安装的软件(优先级高于/usr)
例如手动编译的nginx,python等，结构类似/usr(bin,lib,share等子目录)。

看到这里你可能又有疑惑了，/usr/bin,/usr/lib等目录下存放的文件和/bin,/lib目录下存放的东西差不多，这是为什么？这其实是Linux文件系统演进过程中的历史遗留问题。在早期unix开发时，/bin和/lib存放系统启动和修复必需的最基础命令和库（如mount,ls,bash,libc.so），/usr/bin和/usr/lib存放非核心应用程序和库（如 gcc, vim, firefox）。但随着磁盘和网络环境变化，人们发现这样操作会造成空间浪费，依赖复杂等问题，所以用符号链接将/bin,/lib,/sbin合并到/usr对应目录，以实现减少目录，简洁路径的目的。所以现在的linux系统中，/bin，/lib等仅仅是/usr/bin、/usr/lib的符号链接，并非独立目录，实体文件有且仅有一份，即usr下的对应目录。

让我们验证一下：

```

$ ls -l /bin
lrwxrwxrwx 1 root root 7 Jul 15  2022 /bin -> usr/bin  # 发现bin指向/usr/bin

$ ls -l /lib
lrwxrwxrwx 1 root root 7 Jul 15  2022 /lib -> usr/lib  # lib指向/usr/lib

$ which ls
/usr/bin/ls   # 发现ls的实际路径在/usr/bin

$ ls -l /usr/bin/ls
-rwxr-xr-x 1 root root 139304 Jan 18  2023 /usr/bin/ls  # 唯一的实体文件在/usr/bin/ls

```

##### 现代 Linux 中，/usr 已是真正的“核心软件基地”，而 /bin、/lib 只是它的“快捷入口”。这种设计平衡了历史兼容性与现代简洁性。

## 7. 运行过程
### （1）/var（variable data可变资源）
简单来说，它存储的是在系统正常运行过程中会不断增长、改变或被修改的数据。这与像/usr或/bin这样的目录形成对比，后者的内容在系统运行期间通常是静态不变的（除非进行软件更新）。

### （2）/proc(processes)
/proc目录是一种伪文件系统，由内核提供，基于内存。它并不是硬盘上的真实目录，其作用是充当实时监控和调整系统核心的窗口。而/var是实实在在存放着系统运行过程中积累下来的各种“痕迹”和“必需品”（日志、邮件、待处理任务、软件状态等）的仓库。两者都是linux系统管理和理解不可或缺的部分，但服务于完全不同的目的。

如果你认真阅读了上述文档，你应该发现/proc和/sys两个目录十分相似，都是内核提供的、基于内存的虚拟文件系统，它们共同作为实时监控和调整系统核心的窗口，它们的设计理念相似，但关注点、组织结构和提供的信息类型有显著区别。

/proc诞生时间早，很多文件是纯文本格式，方便cat查看，但格式可能因内核版本或具体信息而异。它混合了进程信息、硬件信息和可调参数。

/sys诞生时间晚，文件高度结构化、层次分明、严格标准化。它像一棵树一样组织，清晰地反映了硬件和内核组件的层级关系（总线->设备->驱动->属性）。文件内容通常是单值文本（一个文件通常只包含一个值），便于脚本读写。

    /sys 是关于“东西”(Things)的,我的系统里有什么设备？它们是怎么连接的？控制这个特定设备的驱动提供了哪些属性可以让我查看或修改（比如调亮度、设CPU频率）？
    
    /proc 是关于“状态”(State)和“过程”(Processes)的： 现在系统里有哪些进程在跑？它们具体在干什么？整个系统的CPU/内存/IO用了多少？网络连接情况怎么样？有哪些全局的内核设置(sysctl)可以调整？

## 8. 用于拓展
### （1）/opt（optional）
其用于存放我们安装额外软件，存放独立、自包含的应用程序，其默认是空的。例如我们的相机驱动MVS，ros2humble，还有第三方输入法都在这个目录下。

与/usr的区别在于你的软件的来源，安装方式和软件属性。

    如果软件是来自发行版官方仓库（用apt等命令安装）就会被放进/usr里面。
    
    如果不是来自发行版官方仓库，就看软件属性，如果是独立安装程序或大型商业软件（海康威视相机的MVS），就放入/opt中。
    
    如果即不是来自发行版官方仓库，也不是独立安装程序或大型商业软件，就看安装方式，如果手动编译安装或本地管理软件（./configure; make; make install），就会被放进/usr/local。
    
    如果即不是来自发行版官方仓库，也不是独立安装程序或大型商业软件，甚至不是手动编译安装或本地管理，就会被放入其他位置（如Snap/Flatpak，或者你home目录下的文件包里）

### （2）/srv（Service）
核心目的是集中存放由本机提供的特定服务的数据文件。作为服务器的话会起到大作用，如果你的linux只是作为客户端使用的话很少会用到它。

## 9. 特殊目录
### （1）/snap
是 Snap 包管理系统的核心目录，专门用于存放和管理通过snap命令安装的 Snap 应用程序及其运行环境。如果你的系统使用Snap安装软件（Ubuntu 默认大量使用），那么这个目录会非常活跃。

### (2) /cdrom
 Linux 系统中用于临时挂载光盘（CD/DVD/蓝光）或ISO镜像文件的传统挂载点之一。它的存在主要是为了遵循历史惯例和文件系统层次结构标准（FHS）的兼容性。